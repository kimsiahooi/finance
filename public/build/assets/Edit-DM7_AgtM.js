import{d as _,e as v,o as n,w as d,a,u as r,f as y,t as m,b as h,r as b,c,g as $,i as f,j as S,F as k,k as U,m as V,l as K,n as C,p as F,q as L,h as j,s as D}from"./app-BIEEEBWC.js";import{_ as T,a as x,b as P,c as q,d as z}from"./CardTitle.vue_vue_type_script_setup_true_lang-BmDxKW95.js";import{_ as B,L as I,a as O,b as W}from"./AppMainLayout.vue_vue_type_script_setup_true_lang-CalCHq_Z.js";import{_ as A}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Cez-EoiE.js";import{_ as w}from"./Label.vue_vue_type_script_setup_true_lang-AsPQ5Rxy.js";import{_ as G}from"./Input.vue_vue_type_script_setup_true_lang-DEXJt-wC.js";import{i as H,_ as J,u as Q}from"./AppLayout.vue_vue_type_script_setup_true_lang-DUGmVefM.js";import{d as R}from"./index-4Ns3tNZl.js";import"./createLucideIcon-FB_SlJhL.js";import"./useForwardExpose-ZGaAgPp_.js";import"./VisuallyHidden-CSkdxVQ3.js";import"./RovingFocusGroup-B5iutxhK.js";import"./useArrowNavigation-C6Y-ieo6.js";const X={class:"space-y-4"},Y=_({__name:"Card",props:{title:{},description:{}},setup(t){return(e,l)=>(n(),v(r(z),null,{default:d(()=>[a(r(T),null,{default:d(()=>[a(r(x),null,{default:d(()=>[y(m(e.title),1)]),_:1}),a(r(P),null,{default:d(()=>[y(m(e.description),1)]),_:1})]),_:1}),a(r(q),null,{default:d(()=>[h("div",X,[b(e.$slots,"default")])]),_:3})]),_:3}))}}),Z={},ee={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"};function re(t,e){return n(),c("div",ee,[b(t.$slots,"default")])}const se=B(Z,[["render",re]]),oe={class:"flex flex-wrap items-center gap-2"},te=_({__name:"FormButton",props:{label:{default:"Create"},disabled:{type:Boolean},loading:{type:Boolean},type:{}},setup(t){const e=t;return(l,s)=>(n(),c("div",oe,[a(r(A),{type:l.type,class:"cursor-pointer disabled:cursor-not-allowed",disabled:l.disabled},{default:d(()=>[l.loading?(n(),v(r(I),{key:0,class:"animate-spin"})):$("",!0),y(" "+m(e.label),1)]),_:1},8,["type","disabled"]),b(l.$slots,"default")]))}}),ae=S(),le=f(()=>ae.props.errors),E=()=>({findErrors:e=>{const l=Object.entries(le.value).filter(([s])=>s.startsWith(e)).map(([s,p])=>({key:s,message:p}));return l.length?l:null}}),ne={},de={class:"grid w-full items-center gap-1.5"};function ue(t,e){return n(),c("div",de,[b(t.$slots,"default")])}const M=B(ne,[["render",ue]]),ie={key:0},ce=_({__name:"ErrorMessages",props:{errorKey:{}},setup(t){const e=t,{findErrors:l}=E(),s=f(()=>l(e.errorKey));return(p,u)=>s.value?(n(),c("div",ie,[(n(!0),c(k,null,U(s.value,o=>(n(),c("p",{key:o.key,class:"text-destructive"},m(o.message),1))),128))])):$("",!0)}}),pe={key:0,class:"text-destructive"},N=_({__name:"FormError",props:{error:{},errorKey:{}},setup(t){return(e,l)=>(n(),c(k,null,[e.error?(n(),c("p",pe,m(e.error),1)):$("",!0),e.errorKey?(n(),v(r(ce),{key:1,"error-key":e.errorKey},null,8,["error-key"])):$("",!0)],64))}}),me={class:"flex items-center gap-2"},fe=_({__name:"FormInput",props:V({label:{},type:{default:"text"},placeholder:{},error:{},errorKey:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=t,{findErrors:l}=E(),s=K(t,"modelValue"),p=f(()=>e.placeholder??`Enter ${e.label}`),u=f(()=>e.errorKey&&l(e.errorKey));return(o,i)=>(n(),v(r(M),null,{default:d(()=>[a(r(w),{class:C({"text-destructive":o.error||u.value})},{default:d(()=>[y(m(o.label)+": ",1)]),_:1},8,["class"]),h("div",me,[a(r(G),F(o.$attrs,{type:e.type,placeholder:p.value,"model-value":s.value,"onUpdate:modelValue":i[0]||(i[0]=g=>s.value=g),class:{"border-destructive":o.error||u.value}}),null,16,["type","placeholder","model-value","class"]),b(o.$slots,"default")]),a(r(N),{error:o.error,"error-key":o.errorKey},null,8,["error","error-key"])]),_:3}))}}),_e=_({__name:"FormTextarea",props:V({label:{},type:{default:"text"},placeholder:{},error:{},errorKey:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=t,{findErrors:l}=E(),s=K(t,"modelValue"),p=f(()=>e.placeholder??`Enter ${e.label}`),u=f(()=>e.errorKey&&l(e.errorKey));return(o,i)=>(n(),v(r(M),null,{default:d(()=>[a(r(w),{class:C({"text-destructive":o.error||u.value})},{default:d(()=>[y(m(o.label)+": ",1)]),_:1},8,["class"]),a(r(O),F(o.$attrs,{type:e.type,placeholder:p.value,"model-value":s.value,"onUpdate:modelValue":i[0]||(i[0]=g=>s.value=g),class:{"border-destructive":o.error||u.value}}),null,16,["type","placeholder","model-value","class"]),a(r(N),{error:o.error,"error-key":o.errorKey},null,8,["error","error-key"])]),_:1}))}}),we=_({layout:W,__name:"Edit",props:{category:{}},setup(t){const e=t,l=f(()=>[{title:"Dashboard",href:R().url},{title:"Transaction Categories",href:H().url},{title:e.category.name,href:"#"}]),s=L({name:e.category.name,description:e.category.description??void 0}),p=()=>s.put(Q({category:e.category.id}).url,{preserveScroll:!0,preserveState:!0});return(u,o)=>(n(),c(k,null,[a(r(j),{title:u.category.name},null,8,["title"]),a(J,{breadcrumbs:l.value},{default:d(()=>[a(r(se),null,{default:d(()=>[h("form",{onSubmit:D(p,["prevent"])},[a(r(Y),{title:`Edit ${u.category.name}`},{default:d(()=>[a(r(fe),{label:"Name",error:r(s).errors.name,"model-value":r(s).name,"onUpdate:modelValue":o[0]||(o[0]=i=>r(s).name=i)},null,8,["error","model-value"]),a(r(_e),{label:"Description",error:r(s).errors.description,"model-value":r(s).description,"onUpdate:modelValue":o[1]||(o[1]=i=>r(s).description=i)},null,8,["error","model-value"]),a(r(te),{type:"submit",disabled:r(s).processing,label:"Update",loading:r(s).processing},null,8,["disabled","loading"])]),_:1},8,["title"])],32)]),_:1})]),_:1},8,["breadcrumbs"])],64))}});export{we as default};
