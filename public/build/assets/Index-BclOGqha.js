import{c as C,d as y,t as ua,r as X,w as te,a as oa,B as m,f as o,k as n,l as A,C as x,A as O,u as a,v as V,D as ia,n as Ee,y as k,E as he,G as ye,i as u,e as M,F as Y,N as ge,L as Re,M as ca,K as Ae,h as H,q as va,m as fa,j as pa,s as Fe,p as ma,z as ue}from"./app-bwWs2Vyz.js";import{r as $e,c as G,s as ga,v as _a,w as xe,u as ha,g as ya,a as ba,$ as oe,i as Me,h as Ca,t as Da,x as xa,d as wa,e as ae,f as Va,j as we,p as ie,k as He,l as $a,y as Ra,m as Pa,n as Sa,C as ka,o as Ba,_ as Te,q as qa}from"./Switch.vue_vue_type_script_setup_true_lang-90EGBdP5.js";import{F as Ge,u as Ea,_ as Ne,P as Fa,a as Ha,T as Na,b as Oa,c as Ia,d as Ua,e as Aa,p as Ma}from"./pickBy-D5OM8GrG.js";import{P as L,c as j,b as Pe,_ as _e}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Cwealnof.js";import{u as Ta}from"./useFormatDateTime-BjlaRf_n.js";import{_ as Z}from"./Label.vue_vue_type_script_setup_true_lang-BClJXDIt.js";import{u as Le,a as Ga,c as La,b as Ka,d as J}from"./VisuallyHidden-BcIEm5SQ.js";import{u as Oe,d as ja,r as W}from"./useForwardExpose-D1htgUzY.js";import{C as za,a as Ve,b as Wa,f as Ya,_ as Ja,g as Qa}from"./AppLayout.vue_vue_type_script_setup_true_lang-BOqev7rx.js";import{C as Xa}from"./chevron-left-H80b1oRV.js";import{_ as Za,a as et,b as at,c as tt,d as lt}from"./DialogTitle.vue_vue_type_script_setup_true_lang-Jd7XZZzW.js";import{_ as st,a as rt}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-8Z74fFKQ.js";import{_ as Ie}from"./Input.vue_vue_type_script_setup_true_lang-CdKwQ-og.js";import{_ as nt,a as dt,L as ut}from"./AppMainLayout.vue_vue_type_script_setup_true_lang-DV7fKLlu.js";import{d as ot}from"./index-4Ns3tNZl.js";import"./createLucideIcon-CdoQpKKl.js";import"./useFormControl-CkGsT62r.js";import"./RovingFocusGroup-DsA5kvN4.js";import"./VisuallyHiddenInput-BqGDfyd_.js";import"./check-BLxMFHZv.js";import"./CardTitle.vue_vue_type_script_setup_true_lang-nJ_IR0sN.js";import"./nullish-CHIgUVhi.js";import"./useArrowNavigation-C6Y-ieo6.js";function it(t){const l=C(()=>t.start.value?!!t.isDateDisabled(t.start.value):!1),e=C(()=>t.end.value?!!t.isDateDisabled(t.end.value):!1),s=C(()=>l.value||e.value?!1:!!(t.start.value&&t.end.value&&$e(t.end.value,t.start.value))),r=g=>t.start.value?G(t.start.value,g):!1,c=g=>t.end.value?G(t.end.value,g):!1,w=g=>t.start.value&&G(t.start.value,g)||t.end.value&&G(t.end.value,g)?!0:t.end.value&&t.start.value?xe(g,t.start.value,t.end.value):!1,$=g=>{if(t.isDateDisabled(g))return!0;if(t.maximumDays?.value){if(t.start.value&&t.end.value){if(t.fixedDate.value){const i=_a(t.start.value,t.end.value).length;if(i<=t.maximumDays.value){const P=t.maximumDays.value-i-1,z=t.start.value.subtract({days:P}),f=t.end.value.add({days:P});return!xe(g,z,f)}}return!1}if(t.start.value){const i=t.start.value.add({days:t.maximumDays.value}),P=t.start.value.subtract({days:t.maximumDays.value});return!xe(g,P,i)}}return!t.start.value||t.end.value||G(t.start.value,g),!1},B=g=>!!t.isDateHighlightable?.(g),_=C(()=>{if(t.start.value&&t.end.value&&!t.fixedDate.value||!t.start.value||!t.focusedValue.value)return null;const g=$e(t.start.value,t.focusedValue.value),i=g?t.start.value:t.focusedValue.value,P=g?t.focusedValue.value:t.start.value;if(G(i,P))return{start:i,end:P};if(t.maximumDays?.value&&!t.end.value){const f=g?i.add({days:t.maximumDays.value}):i.subtract({days:t.maximumDays.value});return{start:i,end:f}}return ga(i,P,t.allowNonContiguousRanges.value?()=>!1:t.isDateUnavailable,$,t.isDateHighlightable)?{start:i,end:P}:null});return{isInvalid:s,isSelected:w,isDateHighlightable:B,highlightedRange:_,isSelectionStart:r,isSelectionEnd:c,isHighlightedStart:g=>!_.value||!_.value.start?!1:G(_.value.start,g),isHighlightedEnd:g=>!_.value||!_.value.end?!1:G(_.value.end,g),isDateDisabled:$}}const ct={style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute","white-space":"nowrap",width:"1px"}},vt={role:"heading","aria-level":"2"},[le,ft]=La("RangeCalendarRoot");var pt=y({__name:"RangeCalendarRoot",props:{defaultPlaceholder:{type:null,required:!1},defaultValue:{type:Object,required:!1,default:()=>({start:void 0,end:void 0})},modelValue:{type:[Object,null],required:!1},placeholder:{type:null,required:!1,default:void 0},allowNonContiguousRanges:{type:Boolean,required:!1,default:!1},pagedNavigation:{type:Boolean,required:!1,default:!1},preventDeselect:{type:Boolean,required:!1,default:!1},maximumDays:{type:Number,required:!1,default:void 0},weekStartsOn:{type:Number,required:!1,default:0},weekdayFormat:{type:String,required:!1,default:"narrow"},calendarLabel:{type:String,required:!1},fixedWeeks:{type:Boolean,required:!1,default:!1},maxValue:{type:null,required:!1},minValue:{type:null,required:!1},locale:{type:String,required:!1},numberOfMonths:{type:Number,required:!1,default:1},disabled:{type:Boolean,required:!1,default:!1},readonly:{type:Boolean,required:!1,default:!1},initialFocus:{type:Boolean,required:!1,default:!1},isDateDisabled:{type:Function,required:!1,default:void 0},isDateUnavailable:{type:Function,required:!1,default:void 0},isDateHighlightable:{type:Function,required:!1,default:void 0},dir:{type:String,required:!1},nextPage:{type:Function,required:!1},prevPage:{type:Function,required:!1},disableDaysOutsideCurrentView:{type:Boolean,required:!1,default:!1},fixedDate:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["update:modelValue","update:validModelValue","update:placeholder","update:startValue"],setup(t,{emit:l}){const e=t,s=l,{disabled:r,readonly:c,initialFocus:w,pagedNavigation:$,weekStartsOn:B,weekdayFormat:_,fixedWeeks:R,numberOfMonths:N,preventDeselect:g,isDateUnavailable:i,isDateHighlightable:P,isDateDisabled:z,calendarLabel:f,maxValue:d,minValue:p,dir:ce,locale:ve,nextPage:fe,prevPage:be,allowNonContiguousRanges:se,disableDaysOutsideCurrentView:Ce,fixedDate:S,maximumDays:D}=ua(e),{primitiveElement:pe,currentElement:re}=Le(),T=Ga(ce),ne=ha(ve),Q=X(),I=X(),me=X(!1),b=Oe(e,"modelValue",s,{defaultValue:e.defaultValue??{start:void 0,end:void 0},passive:e.modelValue===void 0}),h=X(b.value);te(h,v=>{s("update:validModelValue",v)});const q=ya({defaultPlaceholder:e.placeholder,defaultValue:b.value.start,locale:e.locale}),E=X(b.value.start),U=X(b.value.end),F=Oe(e,"placeholder",s,{defaultValue:e.defaultPlaceholder??q.copy(),passive:e.placeholder===void 0});function ee(v){F.value=v.copy()}const{fullCalendarLabel:De,headingValue:Ke,isDateDisabled:je,isDateUnavailable:Se,isNextButtonDisabled:ze,isPrevButtonDisabled:We,grid:ke,weekdays:Be,isOutsideVisibleView:Ye,nextPage:Je,prevPage:Qe,formatter:Xe}=ba({locale:ne,placeholder:F,weekStartsOn:B,fixedWeeks:R,numberOfMonths:N,minValue:p,maxValue:d,disabled:r,weekdayFormat:_,pagedNavigation:$,isDateDisabled:z.value,isDateUnavailable:i.value,calendarLabel:f,nextPage:fe,prevPage:be}),{isInvalid:qe,isSelected:Ze,isDateHighlightable:ea,highlightedRange:aa,isSelectionStart:ta,isSelectionEnd:la,isHighlightedStart:sa,isHighlightedEnd:ra,isDateDisabled:na}=it({start:E,end:U,isDateDisabled:je,isDateUnavailable:Se,isDateHighlightable:P.value,focusedValue:I,allowNonContiguousRanges:se,fixedDate:S,maximumDays:D});te(b,(v,K)=>{(!K?.start&&v?.start||!v||!v.start||E.value&&!oe(v.start,E.value))&&(E.value=v?.start?.copy?.()),(!K?.end&&v.end||!v||!v.end||U.value&&!oe(v.end,U.value))&&(U.value=v?.end?.copy?.())}),te(E,v=>{v&&!oe(v,F.value)&&ee(v),s("update:startValue",v)}),te([E,U],([v,K])=>{const de=b.value;de&&de.start&&de.end&&v&&K&&oe(de.start,v)&&oe(de.end,K)||(me.value=!0,K&&v?($e(K,v)?b.value={start:K.copy(),end:v.copy()}:b.value={start:v.copy(),end:K.copy()},me.value=!1,h.value={start:b.value.start?.copy(),end:b.value.end?.copy()}):v?b.value={start:v.copy(),end:void 0}:b.value={start:K?.copy(),end:void 0})});const da=Me();return ja("keydown",v=>{v.key===da.ESCAPE&&me.value&&(E.value=h.value.start?.copy(),U.value=h.value.end?.copy())}),ft({isDateUnavailable:Se,isDateHighlightable:ea,startValue:E,endValue:U,formatter:Xe,modelValue:b,placeholder:F,disabled:r,initialFocus:w,pagedNavigation:$,grid:ke,weekDays:Be,weekStartsOn:B,weekdayFormat:_,fixedWeeks:R,numberOfMonths:N,readonly:c,preventDeselect:g,fullCalendarLabel:De,headingValue:Ke,isInvalid:qe,isDateDisabled:na,allowNonContiguousRanges:se,highlightedRange:aa,focusedValue:I,lastPressedDateValue:Q,isSelected:Ze,isSelectionEnd:la,isSelectionStart:ta,isNextButtonDisabled:ze,isPrevButtonDisabled:We,isOutsideVisibleView:Ye,nextPage:Je,prevPage:Qe,parentElement:re,onPlaceholderChange:ee,locale:ne,dir:T,isHighlightedStart:sa,isHighlightedEnd:ra,disableDaysOutsideCurrentView:Ce,fixedDate:S,maximumDays:D,minValue:p,maxValue:d}),oa(()=>{w.value&&Ca(re.value)}),(v,K)=>(o(),m(a(L),{ref_key:"primitiveElement",ref:pe,as:v.as,"as-child":v.asChild,role:"application","aria-label":a(De),"data-readonly":a(c)?"":void 0,"data-disabled":a(r)?"":void 0,"data-invalid":a(qe)?"":void 0,dir:a(T)},{default:n(()=>[A("div",ct,[A("div",vt,O(a(De)),1)]),x(v.$slots,"default",{date:a(F),grid:a(ke),weekDays:a(Be),weekStartsOn:a(B),locale:a(ne),fixedWeeks:a(R),modelValue:a(b)})]),_:3},8,["as","as-child","aria-label","data-readonly","data-disabled","data-invalid","dir"]))}}),mt=pt,gt=y({__name:"RangeCalendarCell",props:{date:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"td"}},setup(t){const l=le();return(e,s)=>(o(),m(a(L),{as:e.as,"as-child":e.asChild,role:"gridcell","aria-selected":a(l).isSelected(e.date)?!0:void 0,"aria-disabled":a(l).isDateDisabled(e.date)||a(l).isDateUnavailable?.(e.date)||a(l).disableDaysOutsideCurrentView.value,"data-disabled":a(l).isDateDisabled(e.date)||a(l).disableDaysOutsideCurrentView.value?"":void 0},{default:n(()=>[x(e.$slots,"default")]),_:3},8,["as","as-child","aria-selected","aria-disabled","data-disabled"]))}}),_t=gt,ht=y({__name:"RangeCalendarCellTrigger",props:{day:{type:null,required:!0},month:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(t){const l=t,e=le(),s=Me(),{primitiveElement:r,currentElement:c}=Le(),w=C(()=>e.formatter.custom(Da(l.day),{weekday:"long",month:"long",day:"numeric",year:"numeric"})),$=C(()=>e.isDateUnavailable?.(l.day)??!1),B=C(()=>e.isSelected(l.day)),_=C(()=>e.isSelectionStart(l.day)),R=C(()=>e.isSelectionEnd(l.day)),N=C(()=>e.isHighlightedStart(l.day)),g=C(()=>e.isHighlightedEnd(l.day)),i=C(()=>e.highlightedRange.value?xa(l.day,e.highlightedRange.value.start,e.highlightedRange.value.end):!1),P=C(()=>e.allowNonContiguousRanges.value),z=C(()=>wa(l.day,ae())),f=C(()=>!Va(l.day,l.month)),d=C(()=>e.isOutsideVisibleView(l.day)),p=C(()=>e.isDateDisabled(l.day)||e.disableDaysOutsideCurrentView.value&&f.value),ce=C(()=>l.day.day.toLocaleString(e.locale.value)),ve=C(()=>!e.disabled.value&&G(l.day,e.placeholder.value));function fe(S,D){if(!e.readonly.value&&!(e.isDateDisabled(D)||e.isDateUnavailable?.(D))){if(e.lastPressedDateValue.value=D.copy(),e.startValue.value&&e.highlightedRange.value===null){if(G(D,e.startValue.value)&&!e.preventDeselect.value&&!e.endValue.value){e.startValue.value=void 0,e.onPlaceholderChange(D);return}else if(!e.endValue.value){S.preventDefault(),e.lastPressedDateValue.value&&G(e.lastPressedDateValue.value,D)&&(e.startValue.value=D.copy());return}}if(e.startValue.value&&e.endValue.value&&G(e.endValue.value,D)&&!e.preventDeselect.value){e.startValue.value=void 0,e.endValue.value=void 0,e.onPlaceholderChange(D);return}e.startValue.value?e.endValue.value?e.endValue.value&&e.startValue.value&&(e.fixedDate.value?e.fixedDate.value==="start"?D.compare(e.startValue.value)<0?e.startValue.value=D.copy():e.endValue.value=D.copy():e.fixedDate.value==="end"&&(D.compare(e.endValue.value)>0?e.endValue.value=D.copy():e.startValue.value=D.copy()):(e.endValue.value=void 0,e.startValue.value=D.copy())):e.endValue.value=D.copy():e.startValue.value=D.copy()}}function be(S){p.value||fe(S,l.day)}function se(){p.value||e.isDateUnavailable?.(l.day)||(e.focusedValue.value=l.day.copy())}function Ce(S){if(p.value)return;S.preventDefault(),S.stopPropagation();const D=e.parentElement.value,pe=7,re=e.dir.value==="rtl"?-1:1;switch(S.code){case s.ARROW_RIGHT:T(c.value,re);break;case s.ARROW_LEFT:T(c.value,-re);break;case s.ARROW_UP:T(c.value,-pe);break;case s.ARROW_DOWN:T(c.value,pe);break;case s.ENTER:case s.SPACE_CODE:fe(S,l.day)}function T(ne,Q){const I=we(D);if(!I.length)return;const b=I.indexOf(ne)+Q;if(b>=0&&b<I.length){const h=I[b].getAttribute("data-value"),q=ie(h,e.placeholder.value),E=e.minValue.value,U=e.maxValue.value;if(E&&q.compare(E)<0||U&&q.compare(U)>0)return;I[b].hasAttribute("data-disabled")&&T(I[b],Q),e.onPlaceholderChange(q),I[b].focus();return}if(b<0){if(e.isPrevButtonDisabled())return;e.prevPage(),Ee(()=>{const h=we(D);if(!h.length)return;if(!e.pagedNavigation.value&&e.numberOfMonths.value>1){const F=He(e.placeholder.value)-Math.abs(b);h[F].hasAttribute("data-disabled")&&T(h[F],Q);const ee=h[F].getAttribute("data-value");e.onPlaceholderChange(ie(ee,e.placeholder.value)),h[F].focus();return}const q=h.length-Math.abs(b);h[q].hasAttribute("data-disabled")&&T(h[q],Q);const E=h[q].getAttribute("data-value");e.onPlaceholderChange(ie(E,e.placeholder.value)),h[q].focus()});return}if(b>=I.length){if(e.isNextButtonDisabled())return;e.nextPage(),Ee(()=>{const h=we(D);if(!h.length)return;if(!e.pagedNavigation.value&&e.numberOfMonths.value>1){const U=He(e.placeholder.value.add({months:e.numberOfMonths.value-1})),F=b-I.length+(h.length-U);h[F].hasAttribute("data-disabled")&&T(h[F],Q);const ee=h[F].getAttribute("data-value");e.onPlaceholderChange(ie(ee,e.placeholder.value)),h[F].focus();return}const q=b-I.length;h[q].hasAttribute("data-disabled")&&T(h[q],Q);const E=h[q].getAttribute("data-value");e.onPlaceholderChange(ie(E,e.placeholder.value)),h[q].focus()})}}}return(S,D)=>(o(),m(a(L),{ref_key:"primitiveElement",ref:r,as:S.as,"as-child":S.asChild,role:"button","aria-label":w.value,"data-reka-calendar-cell-trigger":"","aria-selected":B.value&&(P.value||!$.value)?!0:void 0,"aria-disabled":p.value||$.value?!0:void 0,"data-highlighted":i.value&&(P.value||!$.value)?"":void 0,"data-selection-start":_.value?!0:void 0,"data-selection-end":R.value?!0:void 0,"data-highlighted-start":N.value?!0:void 0,"data-highlighted-end":g.value?!0:void 0,"data-selected":B.value&&(P.value||!$.value)?!0:void 0,"data-outside-visible-view":d.value?"":void 0,"data-value":S.day.toString(),"data-disabled":p.value?"":void 0,"data-unavailable":$.value?"":void 0,"data-today":z.value?"":void 0,"data-outside-view":f.value?"":void 0,"data-focused":ve.value?"":void 0,tabindex:ve.value?0:f.value||p.value?void 0:-1,onClick:be,onFocusin:se,onMouseenter:se,onKeydown:ia(Ce,["up","down","left","right","enter","space"])},{default:n(()=>[x(S.$slots,"default",{dayValue:ce.value,disabled:p.value,today:z.value,selected:B.value,outsideView:f.value,outsideVisibleView:d.value,unavailable:$.value,highlighted:i.value&&(P.value||!$.value),highlightedStart:N.value,highlightedEnd:g.value,selectionStart:_.value,selectionEnd:R.value},()=>[V(O(ce.value),1)])]),_:3},8,["as","as-child","aria-label","aria-selected","aria-disabled","data-highlighted","data-selection-start","data-selection-end","data-highlighted-start","data-highlighted-end","data-selected","data-outside-visible-view","data-value","data-disabled","data-unavailable","data-today","data-outside-view","data-focused","tabindex"]))}}),yt=ht,bt=y({__name:"RangeCalendarGrid",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"table"}},setup(t){const l=t,e=le(),s=C(()=>e.disabled.value?!0:void 0),r=C(()=>e.readonly.value?!0:void 0);return(c,w)=>(o(),m(a(L),k(l,{tabindex:"-1",role:"grid","aria-readonly":r.value,"aria-disabled":s.value,"data-readonly":r.value&&"","data-disabled":s.value&&""}),{default:n(()=>[x(c.$slots,"default")]),_:3},16,["aria-readonly","aria-disabled","data-readonly","data-disabled"]))}}),Ct=bt,Dt=y({__name:"RangeCalendarGridBody",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"tbody"}},setup(t){const l=t;return(e,s)=>(o(),m(a(L),he(ye(l)),{default:n(()=>[x(e.$slots,"default")]),_:3},16))}}),xt=Dt,wt=y({__name:"RangeCalendarGridHead",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"thead"}},setup(t){const l=t;return(e,s)=>(o(),m(a(L),k(l,{"aria-hidden":"true"}),{default:n(()=>[x(e.$slots,"default")]),_:3},16))}}),Vt=wt,$t=y({__name:"RangeCalendarGridRow",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"tr"}},setup(t){const l=t;return(e,s)=>(o(),m(a(L),he(ye(l)),{default:n(()=>[x(e.$slots,"default")]),_:3},16))}}),Rt=$t,Pt=y({__name:"RangeCalendarHeadCell",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"th"}},setup(t){const l=t;return(e,s)=>(o(),m(a(L),he(ye(l)),{default:n(()=>[x(e.$slots,"default")]),_:3},16))}}),St=Pt,kt=y({__name:"RangeCalendarHeader",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(t){const l=t;return(e,s)=>(o(),m(a(L),he(ye(l)),{default:n(()=>[x(e.$slots,"default")]),_:3},16))}}),Bt=kt,qt=y({__name:"RangeCalendarHeading",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(t){const l=t,e=le();return(s,r)=>(o(),m(a(L),k(l,{"data-disabled":a(e).disabled.value?"":void 0}),{default:n(()=>[x(s.$slots,"default",{headingValue:a(e).headingValue.value},()=>[V(O(a(e).headingValue.value),1)])]),_:3},16,["data-disabled"]))}}),Et=qt,Ft=y({__name:"RangeCalendarNext",props:{nextPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const l=t,e=C(()=>s.disabled.value||s.isNextButtonDisabled(l.nextPage)),s=le();return(r,c)=>(o(),m(a(L),{as:r.as,"as-child":r.asChild,"aria-label":"Next page",type:r.as==="button"?"button":void 0,"aria-disabled":e.value||void 0,"data-disabled":e.value||void 0,disabled:e.value,onClick:c[0]||(c[0]=w=>a(s).nextPage(l.nextPage))},{default:n(()=>[x(r.$slots,"default",{disabled:e.value},()=>[c[1]||(c[1]=V(" Next page "))])]),_:3},8,["as","as-child","type","aria-disabled","data-disabled","disabled"]))}}),Ht=Ft,Nt=y({__name:"RangeCalendarPrev",props:{prevPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const l=t,e=C(()=>s.disabled.value||s.isPrevButtonDisabled(l.prevPage)),s=le();return(r,c)=>(o(),m(a(L),{as:r.as,"as-child":r.asChild,"aria-label":"Previous page",type:r.as==="button"?"button":void 0,"aria-disabled":e.value||void 0,"data-disabled":e.value||void 0,disabled:e.value,onClick:c[0]||(c[0]=w=>a(s).prevPage(l.prevPage))},{default:n(()=>[x(r.$slots,"default",{disabled:e.value},()=>[c[1]||(c[1]=V(" Prev page "))])]),_:3},8,["as","as-child","type","aria-disabled","data-disabled","disabled"]))}}),Ot=Nt;const It={class:"flex items-center gap-1"},Ut={class:"flex flex-col gap-y-4 mt-4 sm:flex-row sm:gap-x-4 sm:gap-y-0"},At=y({__name:"RangeCalendar",props:{defaultPlaceholder:{},defaultValue:{},modelValue:{},placeholder:{},allowNonContiguousRanges:{type:Boolean},pagedNavigation:{type:Boolean},preventDeselect:{type:Boolean},maximumDays:{},weekStartsOn:{},weekdayFormat:{},calendarLabel:{},fixedWeeks:{type:Boolean},maxValue:{},minValue:{},locale:{},numberOfMonths:{},disabled:{type:Boolean},readonly:{type:Boolean},initialFocus:{type:Boolean},isDateDisabled:{type:Function},isDateUnavailable:{type:Function},isDateHighlightable:{type:Function},dir:{},nextPage:{type:Function},prevPage:{type:Function},disableDaysOutsideCurrentView:{type:Boolean},fixedDate:{},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue","update:validModelValue","update:placeholder","update:startValue"],setup(t,{emit:l}){const e=t,s=l,r=W(e,"class"),c=Ka(r,s);return(w,$)=>(o(),m(a(mt),k({"data-slot":"range-calendar",class:a(j)("p-3",e.class)},a(c)),{default:n(({grid:B,weekDays:_})=>[u(a(zt),null,{default:n(()=>[u(a(Wt)),A("div",It,[u(a(Jt)),u(a(Yt))])]),_:1}),A("div",Ut,[(o(!0),M(Y,null,ge(B,R=>(o(),m(a(Gt),{key:R.value.toString()},{default:n(()=>[u(a(Kt),null,{default:n(()=>[u(a(Ue),null,{default:n(()=>[(o(!0),M(Y,null,ge(_,N=>(o(),m(a(jt),{key:N},{default:n(()=>[V(O(N),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),u(a(Lt),null,{default:n(()=>[(o(!0),M(Y,null,ge(R.rows,(N,g)=>(o(),m(a(Ue),{key:`weekDate-${g}`,class:"mt-2 w-full"},{default:n(()=>[(o(!0),M(Y,null,ge(N,i=>(o(),m(a(Mt),{key:i.toString(),date:i},{default:n(()=>[u(a(Tt),{day:i,month:R.value},null,8,["day","month"])]),_:2},1032,["date"]))),128))]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},16,["class"]))}}),Mt=y({__name:"RangeCalendarCell",props:{date:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const l=t,e=W(l,"class"),s=J(e);return(r,c)=>(o(),m(a(_t),k({"data-slot":"range-calendar-cell",class:a(j)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([data-selected])]:bg-accent first:[&:has([data-selected])]:rounded-l-md last:[&:has([data-selected])]:rounded-r-md [&:has([data-selected][data-selection-end])]:rounded-r-md [&:has([data-selected][data-selection-start])]:rounded-l-md",l.class)},a(s)),{default:n(()=>[x(r.$slots,"default")]),_:3},16,["class"]))}}),Tt=y({__name:"RangeCalendarCellTrigger",props:{day:{},month:{},asChild:{type:Boolean},as:{default:"button"},class:{}},setup(t){const l=t,e=W(l,"class"),s=J(e);return(r,c)=>(o(),m(a(yt),k({"data-slot":"range-calendar-trigger",class:a(j)(a(Pe)({variant:"ghost"}),"h-8 w-8 p-0 font-normal data-[selected]:opacity-100","[&[data-today]:not([data-selected])]:bg-accent [&[data-today]:not([data-selected])]:text-accent-foreground","data-[selection-start]:bg-primary data-[selection-start]:text-primary-foreground data-[selection-start]:hover:bg-primary data-[selection-start]:hover:text-primary-foreground data-[selection-start]:focus:bg-primary data-[selection-start]:focus:text-primary-foreground","data-[selection-end]:bg-primary data-[selection-end]:text-primary-foreground data-[selection-end]:hover:bg-primary data-[selection-end]:hover:text-primary-foreground data-[selection-end]:focus:bg-primary data-[selection-end]:focus:text-primary-foreground","data-[outside-view]:text-muted-foreground","data-[disabled]:text-muted-foreground data-[disabled]:opacity-50","data-[unavailable]:text-destructive-foreground data-[unavailable]:line-through",l.class)},a(s)),{default:n(()=>[x(r.$slots,"default")]),_:3},16,["class"]))}}),Gt=y({__name:"RangeCalendarGrid",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const l=t,e=W(l,"class"),s=J(e);return(r,c)=>(o(),m(a(Ct),k({"data-slot":"range-calendar-grid",class:a(j)("w-full border-collapse space-x-1",l.class)},a(s)),{default:n(()=>[x(r.$slots,"default")]),_:3},16,["class"]))}}),Lt=y({__name:"RangeCalendarGridBody",props:{asChild:{type:Boolean},as:{}},setup(t){const l=t;return(e,s)=>(o(),m(a(xt),k({"data-slot":"range-calendar-grid-body"},l),{default:n(()=>[x(e.$slots,"default")]),_:3},16))}}),Kt=y({__name:"RangeCalendarGridHead",props:{asChild:{type:Boolean},as:{}},setup(t){const l=t;return(e,s)=>(o(),m(a(Vt),k({"data-slot":"range-calendar-grid-head"},l),{default:n(()=>[x(e.$slots,"default")]),_:3},16))}}),Ue=y({__name:"RangeCalendarGridRow",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const l=t,e=W(l,"class"),s=J(e);return(r,c)=>(o(),m(a(Rt),k({"data-slot":"range-calendar-grid-row",class:a(j)("flex",l.class)},a(s)),{default:n(()=>[x(r.$slots,"default")]),_:3},16,["class"]))}}),jt=y({__name:"RangeCalendarHeadCell",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const l=t,e=W(l,"class"),s=J(e);return(r,c)=>(o(),m(a(St),k({"data-slot":"range-calendar-head-cell",class:a(j)("w-8 rounded-md text-[0.8rem] font-normal text-muted-foreground",l.class)},a(s)),{default:n(()=>[x(r.$slots,"default")]),_:3},16,["class"]))}}),zt=y({__name:"RangeCalendarHeader",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const l=t,e=W(l,"class"),s=J(e);return(r,c)=>(o(),m(a(Bt),k({"data-slot":"range-calendar-header",class:a(j)("flex justify-center pt-1 relative items-center w-full",l.class)},a(s)),{default:n(()=>[x(r.$slots,"default")]),_:3},16,["class"]))}}),Wt=y({__name:"RangeCalendarHeading",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const l=t,e=W(l,"class"),s=J(e);return(r,c)=>(o(),m(a(Et),k({"data-slot":"range-calendar-heading",class:a(j)("text-sm font-medium",l.class)},a(s)),{default:n(({headingValue:w})=>[x(r.$slots,"default",{headingValue:w},()=>[V(O(w),1)])]),_:3},16,["class"]))}}),Yt=y({__name:"RangeCalendarNextButton",props:{nextPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(t){const l=t,e=W(l,"class"),s=J(e);return(r,c)=>(o(),m(a(Ht),k({"data-slot":"range-calendar-next-button",class:a(j)(a(Pe)({variant:"outline"}),"absolute right-1","size-7 bg-transparent p-0 opacity-50 hover:opacity-100",l.class)},a(s)),{default:n(()=>[x(r.$slots,"default",{},()=>[u(a(za),{class:"size-4"})])]),_:3},16,["class"]))}}),Jt=y({__name:"RangeCalendarPrevButton",props:{prevPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(t){const l=t,e=W(l,"class"),s=J(e);return(r,c)=>(o(),m(a(Ot),k({"data-slot":"range-calendar-prev-button",class:a(j)(a(Pe)({variant:"outline"}),"absolute left-1","size-7 bg-transparent p-0 opacity-50 hover:opacity-100",l.class)},a(s)),{default:n(()=>[x(r.$slots,"default",{},()=>[u(a(Xa),{class:"size-4"})])]),_:3},16,["class"]))}}),Qt=()=>({formatCalendarDate:l=>l&&new $a(l.getFullYear(),l.getMonth()+1,l.getDate())}),Xt=y({__name:"DateRangePicker",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(t){const l=new Ra("en-US",{dateStyle:"medium"}),e=Re(t,"modelValue"),{formatCalendarDate:s}=Qt(),r=X({start:s(e.value?.start),end:s(e.value?.end)}),c=w=>({start:w.start?.toDate(ae()),end:w.end?.toDate(ae())});return te(r,w=>{e.value&&(e.value=c(w))},{deep:!0}),(w,$)=>(o(),m(a(Pa),null,{default:n(()=>[u(a(Sa),{"as-child":""},{default:n(()=>[u(a(_e),{variant:"outline",class:ca(a(j)("w-full justify-start text-left font-normal",(!r.value.start||!r.value.end)&&"text-muted-foreground"))},{default:n(()=>[u(a(ka),{class:"mr-2 h-4 w-4"}),r.value.start?(o(),M(Y,{key:0},[r.value.end?(o(),M(Y,{key:0},[V(O(a(l).format(r.value.start.toDate(a(ae)())))+" - "+O(a(l).format(r.value.end.toDate(a(ae)()))),1)],64)):(o(),M(Y,{key:1},[V(O(a(l).format(r.value.start.toDate(a(ae)()))),1)],64))],64)):(o(),M(Y,{key:1},[V(" Pick a date ")],64))]),_:1},8,["class"])]),_:1}),u(a(Ba),{class:"w-auto p-0"},{default:n(()=>[u(a(At),{"model-value":r.value,"onUpdate:modelValue":$[0]||($[0]=B=>r.value=B),"initial-focus":"","number-of-months":2},null,8,["model-value"])]),_:1})]),_:1}))}}),Zt=y({__name:"FilterCombobox",props:Ae({label:{},placeholder:{},options:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const l=Re(t,"modelValue");return(e,s)=>(o(),m(a(Ge),null,{default:n(()=>[u(a(Z),null,{default:n(()=>[V(O(e.label)+":",1)]),_:1}),u(a(Te),k(e.$attrs,{options:e.options,placeholder:e.placeholder,"model-value":l.value,"onUpdate:modelValue":s[0]||(s[0]=r=>l.value=r)}),null,16,["options","placeholder","model-value"])]),_:1}))}}),el=y({__name:"FilterRangeCalendar",props:Ae({label:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const l=Re(t,"modelValue");return(e,s)=>(o(),m(a(Ge),null,{default:n(()=>[u(a(Z),null,{default:n(()=>[V(O(e.label)+":",1)]),_:1}),u(a(Xt),{"model-value":l.value,"onUpdate:modelValue":s[0]||(s[0]=r=>l.value=r)},null,8,["model-value"])]),_:1}))}}),al={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},tl={class:"flex flex-wrap items-center justify-end gap-2"},ll={class:"grid w-full items-center gap-1.5"},sl={key:0,class:"text-destructive"},rl={class:"grid w-full items-center gap-1.5"},nl={key:0,class:"text-destructive"},dl={class:"grid w-full items-center gap-1.5"},ul={key:0,class:"text-destructive"},ol={class:"grid w-full items-center gap-1.5"},il={key:0,class:"text-destructive"},cl={class:"flex items-center space-x-2"},vl={class:"flex flex-wrap items-center justify-end gap-2"},Nl=y({layout:nt,__name:"Index",props:{transactions:{},report:{},options:{}},setup(t){const l=t,{params:e}=Ea(),{formatDateTime:s}=Ta(),{formatDecimal:r}=Oa(),c=C(()=>[{title:"Dashboard",href:ot().url},{title:"Transactions",href:Ve().url}]),w=C(()=>[{accessorKey:"actions",header:()=>"Actions",cell:({row:f})=>{const d=f.original;return H("div",{class:"flex items-center gap-2"},[H(Ne,{text:"Edit",href:Wa({transaction:d.id}).url,icon:Fa}),H(Ha,{title:`Delete ${d.name}`,route:Ya({transaction:d.id}).url,asChild:!1},()=>H(Ne,{variant:"destructive",text:"Delete",icon:Na}))])}},{accessorKey:"id",header:"ID",cell:({row:f})=>H("div",null,f.getValue("id"))},{accessorKey:"name",header:()=>H("div",null,"Name"),cell:({row:f})=>H("div",null,f.getValue("name"))},{accessorKey:"categories",header:()=>H("div",null,"Categories"),cell:({row:f})=>{const{categories:d}=f.original;return H("div",null,d.map(p=>p.name).join(", "))}},{accessorKey:"amount",header:()=>H("div",{class:"text-right"},"Amount"),cell:({row:f})=>{const{amount:d}=f.original;return H("div",{class:["text-right",+d<0&&"text-destructive"]},r(d))},footer:()=>H("div",{class:["text-right",l.report.total_amount<0&&"text-destructive"]},r(l.report.total_amount))},{accessorKey:"remark",header:()=>H("div",null,"Remark"),cell:({row:f})=>H("div",null,f.getValue("remark"))},{accessorKey:"transactioned_at",header:"Transactioned At",cell:({row:f})=>H("div",null,s(f.getValue("transactioned_at"))||"")}]),$=C(()=>({})),B=C(()=>l.options.select.categories.map(f=>({name:f.name,value:f.value.toString()}))),_=X({entries:e.entries??"10",search:e.search,categories:e.categories,start_date:e.start_date,end_date:e.end_date}),R=va({open:!1,date:{start:_.value.start_date?new Date(_.value.start_date):void 0,end:_.value.end_date?new Date(_.value.end_date):void 0}}),N=()=>Fe.visit(Ve({query:Ma(_.value)}),{preserveScroll:!0,preserveState:!0}),g=()=>Fe.visit(Ve()),i=fa({name:"",categories:[],amount:void 0,remark:"",expense:!0}),P=()=>i.post(Qa().url,{preserveScroll:!0,preserveState:!0,onSuccess:z}),z=()=>{R.open=!1,i.reset()};return te(()=>R.date,f=>{_.value.start_date=f.start?.toISOString(),_.value.end_date=f.end?.toISOString()},{deep:!0}),(f,d)=>(o(),M(Y,null,[u(a(pa),{title:"Transactions"}),u(Ja,{breadcrumbs:c.value},{default:n(()=>[A("div",al,[u(a(Ia),{onSearch:N,onReset:g},{default:n(()=>[u(a(Ua),{label:"Name",placeholder:"Search ID, Name, Remark","model-value":_.value.search,"onUpdate:modelValue":d[0]||(d[0]=p=>_.value.search=p)},null,8,["model-value"]),u(a(Zt),{label:"Categories",placeholder:"Search Categories",options:B.value,"model-value":_.value.categories,"onUpdate:modelValue":d[1]||(d[1]=p=>_.value.categories=p),multiple:""},null,8,["options","model-value"]),u(a(el),{label:"Transaction Date","model-value":R.date,"onUpdate:modelValue":d[2]||(d[2]=p=>R.date=p)},null,8,["model-value"])]),_:1}),A("div",tl,[u(a(Za),{open:R.open,"onUpdate:open":d[8]||(d[8]=p=>R.open=p)},{default:n(()=>[u(a(st),{"as-child":""},{default:n(()=>[u(a(_e),{type:"button",class:"cursor-pointer"},{default:n(()=>d[10]||(d[10]=[V(" Create ",-1)])),_:1,__:[10]})]),_:1}),u(a(et),{class:"sm:max-w-[425px]"},{default:n(()=>[u(a(at),null,{default:n(()=>[u(a(tt),null,{default:n(()=>d[11]||(d[11]=[V("Create Transaction",-1)])),_:1,__:[11]}),u(a(lt))]),_:1}),A("form",{onSubmit:ma(P,["prevent"]),class:"space-y-3","disable-while-processing":"","reset-on-success":"",options:{preserveScroll:!0,preserveState:!0},onSuccess:z},[A("div",ll,[u(a(Z),{for:"name"},{default:n(()=>d[12]||(d[12]=[V("Name",-1)])),_:1,__:[12]}),u(a(Ie),{"model-value":a(i).name,"onUpdate:modelValue":d[3]||(d[3]=p=>a(i).name=p),name:"name",type:"text",placeholder:"Enter Name"},null,8,["model-value"]),a(i).errors.name?(o(),M("p",sl,O(a(i).errors.name),1)):ue("",!0)]),A("div",rl,[u(a(Z),{for:"categories"},{default:n(()=>d[13]||(d[13]=[V("Categories",-1)])),_:1,__:[13]}),u(a(Te),{"model-value":a(i).categories,"onUpdate:modelValue":d[4]||(d[4]=p=>a(i).categories=p),name:"categories",options:f.options.select.categories,placeholder:"Select Categories","command-placeholder":"Select Categories",multiple:""},null,8,["model-value","options"]),a(i).errors.categories?(o(),M("p",nl,O(a(i).errors.categories),1)):ue("",!0)]),A("div",dl,[u(a(Z),{for:"amount"},{default:n(()=>d[14]||(d[14]=[V("Amount",-1)])),_:1,__:[14]}),u(a(Ie),{"model-value":a(i).amount,"onUpdate:modelValue":d[5]||(d[5]=p=>a(i).amount=p),name:"amount",type:"number",step:".01",placeholder:"Enter Amount"},null,8,["model-value"]),a(i).errors.amount?(o(),M("p",ul,O(a(i).errors.amount),1)):ue("",!0)]),A("div",ol,[u(a(Z),{for:"remark"},{default:n(()=>d[15]||(d[15]=[V("Remark",-1)])),_:1,__:[15]}),u(a(dt),{"model-value":a(i).remark,"onUpdate:modelValue":d[6]||(d[6]=p=>a(i).remark=p),name:"remark",placeholder:"Enter Remark"},null,8,["model-value"]),a(i).errors.remark?(o(),M("p",il,O(a(i).errors.remark),1)):ue("",!0)]),A("div",cl,[u(a(qa),{name:"expense","model-value":a(i).expense,"onUpdate:modelValue":d[7]||(d[7]=p=>a(i).expense=p)},null,8,["model-value"]),u(a(Z),{for:"expense"},{default:n(()=>d[16]||(d[16]=[V("Expense",-1)])),_:1,__:[16]})]),A("div",vl,[u(a(rt),{"as-child":""},{default:n(()=>[u(a(_e),{class:"cursor-pointer",variant:"secondary"},{default:n(()=>d[17]||(d[17]=[V(" Cancel ",-1)])),_:1,__:[17]})]),_:1}),u(a(_e),{type:"submit",class:"cursor-pointer",disabled:a(i).processing},{default:n(()=>[a(i).processing?(o(),m(a(ut),{key:0,class:"animate-spin"})):ue("",!0),d[18]||(d[18]=V(" Create ",-1))]),_:1,__:[18]},8,["disabled"])])],32)]),_:1})]),_:1},8,["open"])]),u(a(Aa),{"model-value":_.value,"onUpdate:modelValue":d[9]||(d[9]=p=>_.value=p),columns:w.value,"paginate-data":f.transactions,"column-visibility":$.value,onSearch:N},null,8,["model-value","columns","paginate-data","column-visibility"])])]),_:1},8,["breadcrumbs"])],64))}});export{Nl as default};
