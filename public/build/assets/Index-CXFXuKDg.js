import{T as H,D as R,a as q,b as X,X as W,c as Y,d as G,e as J,f as Q,i as w,g as Z,h as ee,s as te,_ as ae}from"./AppLayout.vue_vue_type_script_setup_true_lang-DUGmVefM.js";import{d as h,e as u,o as r,u as e,v as se,x as oe,w as a,r as C,a as t,p as E,b as y,t as $,y as le,z as ne,A as F,f as d,g as k,B as P,i as B,C as p,D as re,c as S,h as ie,E as de,F as ue}from"./app-BIEEEBWC.js";import{c as ce,_ as g}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Cez-EoiE.js";import{_ as T}from"./Label.vue_vue_type_script_setup_true_lang-AsPQ5Rxy.js";import{u as pe,_ as fe,a as me,b as _e,p as ve}from"./pickBy-CVEdEKkG.js";import{_ as O,a as A,b as I,c as j,d as ye}from"./DialogTitle.vue_vue_type_script_setup_true_lang-D0qDM3Oj.js";import{_ as K,a as L}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-du9D5exk.js";import{_ as ge}from"./DialogFooter.vue_vue_type_script_setup_true_lang-DFZ4Drls.js";import{u as he}from"./VisuallyHidden-CSkdxVQ3.js";import{r as be}from"./useForwardExpose-ZGaAgPp_.js";import{L as M,b as $e,a as De}from"./AppMainLayout.vue_vue_type_script_setup_true_lang-CalCHq_Z.js";import{_ as xe}from"./Input.vue_vue_type_script_setup_true_lang-DEXJt-wC.js";import{d as ke}from"./index-4Ns3tNZl.js";import{c as U}from"./createLucideIcon-FB_SlJhL.js";import"./RovingFocusGroup-B5iutxhK.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./CardTitle.vue_vue_type_script_setup_true_lang-BmDxKW95.js";import"./useFormControl-DOwAAMRo.js";import"./check-HgDuSSIj.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=U("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=U("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Be=h({__name:"TooltipProvider",props:{delayDuration:{default:0},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(f){const s=f;return(l,b)=>(r(),u(e(H),se(oe(s)),{default:a(()=>[C(l.$slots,"default")]),_:3},16))}}),Se=h({__name:"DialogScrollContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(f,{emit:s}){const l=f,b=s,m=be(l,"class"),n=he(m,b);return(_,v)=>(r(),u(e(R),null,{default:a(()=>[t(e(Y),{class:"fixed inset-0 z-50 grid place-items-center overflow-y-auto bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"},{default:a(()=>[t(e(q),E({class:e(ce)("relative z-50 grid w-full max-w-lg my-8 gap-4 border border-border bg-background p-6 shadow-lg duration-200 sm:rounded-lg md:w-full",l.class)},e(n),{onPointerDownOutside:v[0]||(v[0]=x=>{const D=x.detail.originalEvent,i=D.target;(D.offsetX>i.clientWidth||D.offsetY>i.clientHeight)&&x.preventDefault()})}),{default:a(()=>[C(_.$slots,"default"),t(e(X),{class:"absolute top-4 right-4 p-0.5 transition-colors rounded-md hover:bg-secondary"},{default:a(()=>[t(e(W),{class:"w-4 h-4"}),v[1]||(v[1]=y("span",{class:"sr-only"},"Close",-1))]),_:1,__:[1]})]),_:3},16,["class"])]),_:3})]),_:3}))}}),Pe=h({__name:"Tooltip",props:{text:{},asChild:{type:Boolean}},setup(f){return(s,l)=>(r(),u(e(Be),null,{default:a(()=>[t(e(G),null,{default:a(()=>[t(e(J),{"as-child":s.asChild},{default:a(()=>[C(s.$slots,"default")]),_:3},8,["as-child"]),t(e(Q),null,{default:a(()=>[y("p",null,$(s.text),1)]),_:1})]),_:3})]),_:3}))}}),N=h({__name:"ActionButton",props:{text:{},href:{},icon:{type:[Function,Object]},variant:{}},setup(f){return(s,l)=>(r(),u(e(Pe),{text:s.text},{default:a(()=>[s.href?(r(),u(e(le),{key:0,href:s.href,"as-child":""},{default:a(()=>[t(e(z),{icon:s.icon,variant:s.variant},null,8,["icon","variant"])]),_:1},8,["href"])):(r(),u(e(z),{key:1,icon:s.icon,variant:s.variant},null,8,["icon","variant"]))]),_:1},8,["text"]))}}),z=h({__name:"ActionIcon",props:{icon:{type:[Function,Object]},variant:{}},setup(f){return(s,l)=>(r(),u(e(g),{size:"icon",class:"size-6 cursor-pointer rounded-full",variant:s.variant},{default:a(()=>[(r(),u(ne(s.icon),{class:"size-3"}))]),_:1},8,["variant"]))}}),Ve=h({__name:"DeleteDialog",props:{title:{},description:{default:"Are you sure you want to delete?"},route:{},method:{default:"delete"},asChild:{type:Boolean,default:!0},buttonLabel:{default:"Delete"}},setup(f){const s=f,l=F({processing:!1,open:!1}),b=()=>{l.processing=!0,P.visit(s.route,{method:s.method,preserveScroll:!0,preserveState:!0,onStart:()=>{l.processing=!0},onSuccess:()=>{l.open=!1},onFinish:()=>{l.processing=!1}})};return(m,n)=>(r(),u(e(j),{open:l.open,"onUpdate:open":n[0]||(n[0]=_=>l.open=_)},{default:a(()=>[t(e(K),{"as-child":m.asChild},{default:a(()=>[C(m.$slots,"default",{},()=>[t(e(g),{class:"cursor-pointer",variant:"destructive"},{default:a(()=>n[1]||(n[1]=[d("Delete",-1)])),_:1,__:[1]})])]),_:3},8,["as-child"]),t(e(Se),{class:"sm:max-w-[425px]"},{default:a(()=>[t(e(O),null,{default:a(()=>[t(e(A),null,{default:a(()=>[d($(m.title),1)]),_:1}),t(e(I),null,{default:a(()=>[d($(m.description),1)]),_:1})]),_:1}),t(e(ge),null,{default:a(()=>[t(e(L),{"as-child":""},{default:a(()=>[t(e(g),{type:"button",variant:"secondary",class:"cursor-pointer"},{default:a(()=>n[2]||(n[2]=[d(" Close ",-1)])),_:1,__:[2]})]),_:1}),t(e(g),{variant:"destructive",class:"cursor-pointer disabled:cursor-not-allowed",disabled:l.processing,onClick:b},{default:a(()=>[l.processing?(r(),u(e(M),{key:0,class:"animate-spin"})):k("",!0),d(" "+$(m.buttonLabel),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:3},8,["open"]))}}),Te={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},Ne={class:"flex flex-wrap items-center justify-end gap-2"},ze={class:"grid w-full items-center gap-1.5"},Ee={key:0,class:"text-destructive"},Fe={class:"grid w-full items-center gap-1.5"},Oe={key:0,class:"text-destructive"},Ae={class:"flex flex-wrap items-center justify-end gap-2"},st=h({layout:$e,__name:"Index",props:{categories:{}},setup(f){const{params:s}=pe(),l=B(()=>[{title:"Dashboard",href:ke().url},{title:"Transaction Categories",href:w().url}]),b=B(()=>[{accessorKey:"actions",header:()=>p("div",null,"Actions"),cell:({row:i})=>{const o=i.original;return p("div",{class:"flex items-center gap-2"},[p(N,{text:"Edit",href:Z({category:o.id}).url,icon:Ce}),p(Ve,{title:`Delete ${o.name}`,route:ee({category:o.id}).url,asChild:!1},()=>p(N,{variant:"destructive",text:"Delete",icon:we}))])}},{accessorKey:"id",header:"ID",cell:({row:i})=>p("div",null,i.getValue("id"))},{accessorKey:"name",header:()=>p("div",null,"Name"),cell:({row:i})=>p("div",null,i.getValue("name"))},{accessorKey:"description",header:()=>p("div",null,"Description"),cell:({row:i})=>p("div",null,i.getValue("description"))}]),m=B(()=>({})),n=re({entries:s.get("entries")??"10",search:s.get("search")??void 0}),_=F({open:!1}),v=()=>P.visit(w({query:ve(n.value)}),{preserveScroll:!0,preserveState:!0}),x=()=>P.visit(w()),D=()=>{_.open=!1};return(i,o)=>(r(),S(ue,null,[t(e(ie),{title:"Transactions"}),t(ae,{breadcrumbs:l.value},{default:a(()=>[y("div",Te,[t(e(fe),{onSearch:v,onReset:x},{default:a(()=>[t(e(me),{label:"Name",placeholder:"Search ID, Name, Description","model-value":n.value.search,"onUpdate:modelValue":o[0]||(o[0]=c=>n.value.search=c)},null,8,["model-value"])]),_:1}),y("div",Ne,[t(e(j),{open:_.open,"onUpdate:open":o[1]||(o[1]=c=>_.open=c)},{default:a(()=>[t(e(K),{"as-child":""},{default:a(()=>[t(e(g),{type:"button",class:"cursor-pointer"},{default:a(()=>o[3]||(o[3]=[d(" Create ",-1)])),_:1,__:[3]})]),_:1}),t(e(ye),{class:"sm:max-w-[425px]"},{default:a(()=>[t(e(O),null,{default:a(()=>[t(e(A),null,{default:a(()=>o[4]||(o[4]=[d(" Create Transaction Category ",-1)])),_:1,__:[4]}),t(e(I))]),_:1}),t(e(de),E(e(te).form(),{class:"space-y-3","disable-while-processing":"","reset-on-success":"",options:{preserveScroll:!0,preserveState:!0},onSuccess:D}),{default:a(({errors:c,processing:V})=>[y("div",ze,[t(e(T),{for:"name"},{default:a(()=>o[5]||(o[5]=[d("Name",-1)])),_:1,__:[5]}),t(e(xe),{name:"name",type:"text",placeholder:"Enter Name"}),c.name?(r(),S("p",Ee,$(c.name),1)):k("",!0)]),y("div",Fe,[t(e(T),{for:"description"},{default:a(()=>o[6]||(o[6]=[d("Description",-1)])),_:1,__:[6]}),t(e(De),{name:"description",placeholder:"Enter Description"}),c.description?(r(),S("p",Oe,$(c.description),1)):k("",!0)]),y("div",Ae,[t(e(L),{"as-child":""},{default:a(()=>[t(e(g),{class:"cursor-pointer",variant:"secondary"},{default:a(()=>o[7]||(o[7]=[d(" Cancel ",-1)])),_:1,__:[7]})]),_:1}),t(e(g),{type:"submit",class:"cursor-pointer",disabled:V},{default:a(()=>[V?(r(),u(e(M),{key:0,class:"animate-spin"})):k("",!0),o[8]||(o[8]=d(" Create ",-1))]),_:2,__:[8]},1032,["disabled"])])]),_:1},16)]),_:1})]),_:1},8,["open"])]),t(e(_e),{"model-value":n.value,"onUpdate:modelValue":o[2]||(o[2]=c=>n.value=c),columns:b.value,"paginate-data":i.categories,"column-visibility":m.value,onSearch:v},null,8,["model-value","columns","paginate-data","column-visibility"])])]),_:1},8,["breadcrumbs"])],64))}});export{st as default};
